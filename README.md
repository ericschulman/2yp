# Overview

Code and data analyzing the [U.S. justice department investigation](https://www.nytimes.com/1991/08/05/us/us-investigating-school-milk-bidding-in-16-states.html
) involving school milk cartons that took place during the early 1990s. I used this data in my second year paper. In most states, schools hold a procurement auction where the firm who offers the lowest price wins the right to sell milk to that school. In Florida and Ohio, firms admitted to rigging prices in these auctions by providing each other with side payments to ensure their incentives were aligned. In total, the U.S. justice department investigated collusion over prices for school milk cartons in 16 states.  In Texas, nine milk processors settled for about 15.4 million dollars. Borden Dairy, a milk processors involved with the cartel in Florida, settled for about eight million dollars alone. The lack of official communication between firms and the well documented bids makes the Texas markets a case study in tacit collusion. For academic literature see:
* [Porter and Zona](https://www.jstor.org/stable/2556080?seq=1)
* [Pesendorfer](https://academic.oup.com/restud/article/67/3/381/1547415?login=true)

# Dataset

The main database is in the `db` folder called `tx_milk.db`. This database can be generated by importing the `tx_milk.csv`, `fmo_prices.csv` and `gasoline.csv`. Exporting the `milk` view as a `.csv` file the main starting point of the analysis. I have already exported this file and provided it in github.

The data contains the following variables:

* Bids: Bid level in cents as the dependent variable.  We score the bids as a weighted average of each type of milk based on the quantity ordered.
* Raw milk prices: Class 1 minimum raw milk price. This is a price floor for milk producers on the price of raw milk set by Federal Marketing Order 126, Zone 1. Zone 1 corresponds to Dallas. The raw milk prices involves an adjustment for the different zones within Texas. Class 1 refers to the type of milk product, liquid dairy.  
* Gasoline prices: U.S. crude oil first purchase price measured in cents. We believe this is the most general oil price possible.
* Population: The number of people in the school district according to the 1990 census.
* Quantity: The quantity of milk to be supplied. This is measured in half-pints. A half-pint corresponds to roughly a carton of milk.
* Meals: The number of meals served at the school over the course of year (for which milk is to be supplied).
* No. Bidders: The number of bidders who entered the auction.
* Escalated: Where bids adjusted for fluctuations in the raw milk.
* Cooler: Coolers are for keeping the milk cold and storing it. This variable indicates whether a cooler should be provided as part of the contract. 
* Zone: A binary variables that indicates the zone the school districts are in within the Federal Marketing Order. The zones are different distances from the milk processors plants and have different prices for raw milk based on a fixed differential compared to the Dallas baseline. We label the zones based on distinguishable urban areas. The areas are Dallas (Zone 1), Waco (Zone 3), St. Angelo (Zone 6), Austin (Zone 7),  San Antonio (zone 9).
* Escalation: Whether bids are adjusted for changes in the cost of raw milk through out the school year.
* Incumbency: This indicates whether a firm served the school district more than 50 percent of years.

# Analysis

For more background see my [blog post](https://ericschulman.medium.com/3-things-i-learned-about-price-wars-as-a-second-year-phd-student-147ed4396193). The code provides evidence of price wars. It uses an empirical strategy involving a switching regression similar to [Baldwin, Marshall and Richards](https://www.journals.uchicago.edu/doi/abs/10.1086/262089) who studied collusion in timber auctions. The switching regression identifies auctions where prices fall drastically for inexplicable reasons. 

* The `replication` folder involves replicating the regression results in a working paper involving this data set in `R`.
* The `structural` folder involves exploratory code using the approach in [Guerre, Perrigne and Vuong](https://www.jstor.org/stable/2999600?seq=1) to find the valuations of the bidders.
* `data_clean` creates a cleaned panel for the data called `clean_milk0.csv`.
* `lags_robust.ipynb` involves estimating the model with lags to look at response patterns and punishment strategies.
* `analytic_solution.ipynb` invovles estimating the switching regression and comparing results with a regression that controls for `incumbency` (i.e. providing milk to the district in the previous school year). 

In terms of $R^2$, likelihood, and AIC, the switching regression does a much better job of explaining the variation in the data. Incumbency consistently accounts for why bids fall from 18 cents to 17 cents. However, most districts have one or two years when firms who are not the incumbent bids about 14 cents. The switching regression more accurately predicts when bids will fall from 17 to 14 cents within a school district with an incumbent. As a result, incumbency does not adequately explain the volatile prices compared to a hidden variable.

 
# Testing framework

I formally test this hypothesis using the [Vuong](https://www.jstor.org/stable/1912557) test. This test lets us choose between two alternative data generating processes under the assumption only one of them is true. It works a lot like a likelihood ratio test, but adjusts for the fact that the models have nonnested likelihood functions. According to our results, both test statistics verify that the switching regression is closer to the true data generating process.

# Additional Code

* `strategy` solves for the Markov Perfect Equilibrium in the bidding game.
* `strategy` tries to analytically analyze comparative statitics in this structural model.
