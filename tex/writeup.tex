\documentclass{article}

%math stuff
\usepackage{amsmath}
\usepackage{enumitem}
\usepackage{mathtools}
\usepackage{listings}
\usepackage{amsthm}

%bibliography/appendix
\usepackage{cite}
\usepackage[toc,page]{appendix}

%figures
\usepackage{graphicx}
\usepackage{booktabs}

%General Formating
\renewcommand*\familydefault{\sfdefault}
\usepackage{cmbright}
\usepackage[letterpaper, portrait, margin=1.5in]{geometry}
\usepackage{fancyhdr}
\pagestyle{fancy}

%Header
\lhead{Schulman}
\rhead{Page \thepage}
\cfoot{}

\title{K-Means Clustering to improve estimation efficiency in Repeated Bertrand Games}
\author{Eric Schulman}
\date{\today}

\newtheorem{theorem}{Theorem}
\newtheorem{lemma}{Lemma}
\newtheorem{claim}{Claim}

\begin{document}

\maketitle

\section{Introduction}

Code and documentation to predict creamer sales based on panel data. Creamer sales are essentially a repeated Bertrand game. It is well known that this game admits multiple equilibrium in the stage game from the folk theorem. First I plan to cluster among prices to 'identify' the stage game strategies. Then once, the stage game strategies have been identified, I plan to estimate the quantity, which is a piece wise function. 


The goal of the project is to focus on strategic interactions between firms. Prices among all firms are co-determined in a repeated game. Firms see a fixed market (possibly piece wise) demand curve with noise. They have to choose strategies against each other. Essentially, I want to argue that taking the stage game strategies into account will improve efficiency when predicting quantity.




\section{Prooving Prices form Clusters}



%with out a cost - finite prices weakly dominate
%definitely true - with a cost, p repeates infinitely often
%if cost depends on previously played price, might be enough i.e. C(p_t-1, p_t) is increasing in (p_t/p_t-1)
%using finitely many strategies is a SPE

\begin{claim}
Assume a cost $C>0$ for changing prices. The set $\mathcal{P}$ of prices played in an SPE of the repeated game repeats infinitely often. Moreover, when $C=0$ the set of prices weakly dominates a strategy with infinite prices.
\end{claim}

We will prove the claim by construction. Consider an infinite set of prices $\mathcal{P}$ we will show we can construct a set of finite prices $\mathcal{P}^*$ that dominates it.  

\begin{claim}
Any feasible pay-off under the folk theorem can be achieved using a strategy with a finite set of states.
\end{claim}

\begin{proof}
Strategies are finite automata. Finite automata can recognize all real numbers.  
\end{proof}
%See section 2.2.3 (https://www.irif.fr/~cf/publications/cant-ch1.pdf).

%This post too (https://stackoverflow.com/questions/19262550/how-to-construct-the-dfa-for-the-regular-expression-of-a-real-number)

%need to be more formal about this, and translate 'recognize' to calculate/represent

\begin{claim}
A strategy played in a SPE transitions infinitely often.
\end{claim}

\begin{proof}
Suppose not. We will show under adjustment costs, a strategy with a infinitely often transitions, strictly dominates the set of strategies with almost always transitions.

Add a $p$ to $\mathcal{P}$ so that there are infinitely often transitions, but $C$ is lowered. 
\end{proof}

% may need to make this more general using i.o. and finite set

Since the infinite $\mathcal{P}$ repeats infinitely often, we can restrict our attention on 2 transitions.

We want to show that $\mathcal{P}$ is finite.

Essentially we want to argue that $p \in \mathcal{P}$ almost always transitions back to one of its previous values.

Consider the opponents strategy $p$. This also transitions infinitely often. Consider adding a 'new' $p$ outside of $\mathcal{P}$.

Now consider a one shot deviation back to $p$. We can construct a strategy with the same pay-off using a finite automata.

\section{Econometric model set up}

$q_i = \beta *p_i \beta * p_{-i}  


\section{Proofing unbiased-ness}

\section{Proving the efficiency of the estimator}

\section{Proving unbiasedness without the right number of clusters}

\section{proving efficiency with the wrong number of clusters}


\end{document}